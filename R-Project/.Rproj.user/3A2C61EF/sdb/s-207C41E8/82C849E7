{
    "collab_server" : "",
    "contents" : "list.of.packages <- c(\"readr\", \n                      \"ggplot2\",\n                      \"data.table\",\n                      \"RMySQL\",\n                      \"DBI\",\n                      \"lubridate\",\n                      \"scales\",\n                      \"ggthemes\",\n                      \"gridExtra\",\n                      \"RColorBrewer\",\n                      \"ggiraph\",\n                      \"dplyr\",\n                      \"tibble\"\n                      )\nnew.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,\"Package\"])]\nif(length(new.packages)) install.packages(new.packages)\n\n#library(readr)\nlibrary(ggplot2)\nlibrary(data.table)\nlibrary(RMySQL)\nlibrary(DBI)\nlibrary(lubridate)\nlibrary(ggradar)\nlibrary(ggthemes)\nlibrary(gridExtra)\nrequire(scales)\nlibrary(RColorBrewer)\nlibrary(ggiraphExtra)\nrequire(dplyr)\nrequire(tibble)\n\ncoord_radar <- function (theta = \"x\", start = 0, direction = 1) \n{\n  theta <- match.arg(theta, c(\"x\", \"y\"))\n  r <- if (theta == \"x\") \n    \"y\"\n  else \"x\"\n  ggproto(\"CordRadar\", CoordPolar, theta = theta, r = r, start = start, \n          direction = sign(direction),\n          is_linear = function(coord) TRUE)\n}\n\n\nconnection <-\n  dbConnect(RMySQL::MySQL(), user = \"root\", password = \"Milch4321\", \"leaguestats\")\n\nplayerstats <- data.table(dbReadTable(connection, \"playerdetails\"))\nteamstats <- data.table(dbReadTable(connection, \"teamdetails\"))\nplayerstats <- \n  merge(\n    playerstats,\n    teamstats,\n    by.x = c(\"gameId\", \"platformId\", \"teamId\"),\n    by.y = c(\"gameId\", \"platformId\", \"teamId\")\n  )\n\nchampPerformancePatchRegion <- data.table(dbReadTable(connection, \"champPerformancePatchRegion\"))\nchampPerformancePatch <- data.table(dbReadTable(connection, \"champPerformancePatch\"))\n\npatchOrder = c(\"6.23\",\n               \"6.24\",\n               \"7.1\",\n               \"7.2\",\n               \"7.3\",\n               \"7.4\",\n               \"7.5\",\n               \"7.6\",\n               \"7.7\",\n               \"7.8\",\n               \"7.9\",\n               \"7.10\",\n               \"7.11\",\n               \"7.12\",\n               \"7.13\",\n               \"7.14\",\n               \"7.15\")\n\n\n## Items\nitemLookUp <- data.table(dbReadTable(connection, \"itemkeys\"))\nsetkey(itemLookUp, \"id\")\n\nitem <- itemLookUp$name\nnames(item) <- itemLookUp$champId\n\n\n## Champions\nchampLookUp <- data.table(dbReadTable(connection, \"championkeys\"))\nsetkey(champLookUp, \"championId\")\n\nchamp <- champLookUp$name\nnames(champ) <- champLookUp$champId\n\n\n### TOP Laner\ntop <- playerstats[lane == \"TOP\"]\ntop.distribution <- merge(\n                      data.table(top[,list(gamesPlayed = .N), by = championId][order(by = gamesPlayed, decreasing = T)]),\n                      champLookUp,\n                      by= \"championId\"\n                      )\ntop.distribution.platform <- merge(\n  data.table(top[,list(gamesPlayed = .N), by = list(championId,platformId)][order(by = gamesPlayed, decreasing = T)]),\n  champLookUp,\n  by= \"championId\"\n)\ntop.distribution.patch <- merge(\n  data.table(top[,list(gamesPlayed = .N), by = list(championId,patch)][order(by = gamesPlayed, decreasing = T)]),\n  champLookUp,\n  by= \"championId\"\n)\nsetnames(top.distribution,\"name\", \"names\")\n\nrelchamps.top <- top[,list(gamesPlayed = .N), by = championId][order(by = gamesPlayed, decreasing = T)][,.SD[1:20]][,championId]\ntop.relevant <- top[championId %in% relchamps.top]\ntop.performance <- champPerformancePatchRegion[lane==\"TOP\" & role == \"SOLO\" & championId %in% unique(top.relevant$championId)]\n\n\n\n### Jungler\njungle <- playerstats[lane == \"JUNGLE\"]\nrelchamps.jungle <- jungle[,list(gamesPlayed = .N), by = championId][order(by = gamesPlayed, decreasing = T)][,.SD[1:20]][,championId]\njungle.relevant <- jungle[championId %in% relchamps.jungle]\njungle.performance <- champPerformancePatchRegion[lane==\"JUNGLE\" & championId %in% unique(jungle.relevant$championId)]\n\n\njungle.distribution <- merge(\n  data.table(jungle[,list(gamesPlayed = .N), by = championId][order(by = gamesPlayed, decreasing = T)]),\n  champLookUp,\n  by= \"championId\"\n)\njungle.distribution.platform <- merge(\n  data.table(jungle[,list(gamesPlayed = .N), by = list(championId,platformId)][order(by = gamesPlayed, decreasing = T)]),\n  champLookUp,\n  by= \"championId\"\n)\njungle.distribution.patch <- merge(\n  data.table(jungle[,list(gamesPlayed = .N), by = list(championId,patch)][order(by = gamesPlayed, decreasing = T)]),\n  champLookUp,\n  by= \"championId\"\n)\nsetnames(jungle.distribution,\"name\", \"names\")\n\n\n### Mid laner\nmid <- playerstats[lane == \"MIDDLE\"]\nrelchamps.mid <- mid[,list(gamesPlayed = .N), by = championId][order(by = gamesPlayed, decreasing = T)][,.SD[1:20]][,championId]\nmid.relevant <- mid[championId %in% relchamps.mid]\nmid.performance <- champPerformancePatchRegion[lane==\"MIDDLE\" & role == \"SOLO\" & championId %in% unique(mid.relevant$championId)]\n\nmid.distribution <- merge(\n  data.table(mid[,list(gamesPlayed = .N), by = championId][order(by = gamesPlayed, decreasing = T)]),\n  champLookUp,\n  by= \"championId\"\n)\nmid.distribution.platform <- merge(\n  data.table(mid[,list(gamesPlayed = .N), by = list(championId,platformId)][order(by = gamesPlayed, decreasing = T)]),\n  champLookUp,\n  by= \"championId\"\n)\nmid.distribution.patch <- merge(\n  data.table(mid[,list(gamesPlayed = .N), by = list(championId,patch)][order(by = gamesPlayed, decreasing = T)]),\n  champLookUp,\n  by= \"championId\"\n)\nsetnames(mid.distribution,\"name\", \"names\")\n\n\n\n### AD CARRIES\nadc <- playerstats[lane == \"BOTTOM\" & role == \"DUO_CARRY\"] \nrelchamps.adc <- adc[,list(gamesPlayed = .N), by = championId][order(by = gamesPlayed, decreasing = T)][,.SD[1:16]][,championId]\nadc.relevant <- adc[championId %in% relchamps.adc]\nadc.performance <- champPerformancePatchRegion[lane==\"BOTTOM\" & role == \"DUO_CARRY\" & championId %in% unique(adc.relevant$championId)]\nadc.performance.patch <- champPerformancePatch[lane == \"BOTTOM\" & role == \"DUO_CARRY\" & championId %in% unique(adc.relevant$championId)]\n\nadc.distribution <- merge(\n  data.table(adc[,list(gamesPlayed = .N), by = championId][order(by = gamesPlayed, decreasing = T)]),\n  champLookUp,\n  by= \"championId\"\n)\nadc.distribution.platform <- merge(\n  data.table(adc[,list(gamesPlayed = .N), by = list(championId,platformId)][order(by = gamesPlayed, decreasing = T)]),\n  champLookUp,\n  by= \"championId\"\n)\nadc.distribution.patch <- merge(\n  data.table(adc[,list(gamesPlayed = .N), by = list(championId,patch)][order(by = gamesPlayed, decreasing = T)]),\n  champLookUp,\n  by= \"championId\"\n)\nsetnames(adc.distribution,\"name\", \"names\")\n\nitems.adc = rbind(\n  adc[championId %in% relchamps.adc,list(championId, platformId, patch, item=item0)], \n  adc[championId %in% relchamps.adc,list(championId, platformId, patch, item=item1)],\n  adc[championId %in% relchamps.adc,list(championId, platformId, patch, item=item2)],\n  adc[championId %in% relchamps.adc,list(championId, platformId, patch, item=item3)],\n  adc[championId %in% relchamps.adc,list(championId, platformId, patch, item=item4)],\n  adc[championId %in% relchamps.adc,list(championId, platformId, patch, item=item5)],\n  adc[championId %in% relchamps.adc,list(championId, platformId, patch, item=item6)]\n  )\nitems.adc <- merge(\n  items.adc,\n  itemLookUp,\n  by.x = \"item\",\n  by.y = \"id\",\n  all.x = T\n)\nitems.adc <- merge(\n  items.adc,\n  champLookUp,\n  by = \"championId\"\n)\nsetnames(items.adc, c(\"championId\",\"item\", \"platformId\",\"patch\",\"itemName\", \"championName\"))\nitems.adc <- subset(items.adc, !is.na(itemName))\n\n\nrelItems.ADC = c(\"Infinity Edge\",\n                 \"Essence Reaver\",\n                 \"Manamune/Muramana\",\n                 \"Guinsoo's Rageblade\",\n                 \"Blade of the Ruined King\",\n                 \"The Bloodthirster\",\n                 \"Edge of Night\",\n                 \"Hexdrinker\",\n                 \"Wit's End\",\n                 \"The Black Cleaver\",\n                 \"Duskblade of Draktharr\",\n                 \"Youmuu's Ghostblade\",\n                 \"Trinity Force\",\n                 \"Runaan's Hurricane\",\n                 \"Rapid Firecannon\",\n                 \"Statikk Shiv\",\n                 \"Phantom Dancer\",\n                 \"Iceborn Gauntlet\")\n\n### support\nsup <- playerstats[lane == \"BOTTOM\" & role == \"DUO_SUPPORT\"]\nrelchamps.sup <- sup[,list(gamesPlayed = .N), by = championId][order(by = gamesPlayed, decreasing = T)][,.SD[1:20]][,championId]\nsup.relevant <- sup[championId %in% relchamps.sup]\nsup.performance <- champPerformancePatchRegion[lane==\"BOTTOM\" & role == \"DUO_SUPPORT\" & championId %in% unique(adc.relevant$championId)]\n\nsup.distribution <- merge(\n  data.table(sup[,list(gamesPlayed = .N), by = championId][order(by = gamesPlayed, decreasing = T)]),\n  champLookUp,\n  by= \"championId\"\n)\nsup.distribution.platform <- merge(\n  data.table(sup[,list(gamesPlayed = .N), by = list(championId,platformId)][order(by = gamesPlayed, decreasing = T)]),\n  champLookUp,\n  by= \"championId\"\n)\nsup.distribution.patch <- merge(\n  data.table(sup[,list(gamesPlayed = .N), by = list(championId,patch)][order(by = gamesPlayed, decreasing = T)]),\n  champLookUp,\n  by= \"championId\"\n)\nsetnames(sup.distribution,\"name\", \"names\")\n\n\n\nitems.sup = rbind(\n  sup[championId %in% relchamps.sup,list(championId, platformId, patch, item=item0)], \n  sup[championId %in% relchamps.sup,list(championId, platformId, patch, item=item1)],\n  sup[championId %in% relchamps.sup,list(championId, platformId, patch, item=item2)],\n  sup[championId %in% relchamps.sup,list(championId, platformId, patch, item=item3)],\n  sup[championId %in% relchamps.sup,list(championId, platformId, patch, item=item4)],\n  sup[championId %in% relchamps.sup,list(championId, platformId, patch, item=item5)],\n  sup[championId %in% relchamps.sup,list(championId, platformId, patch, item=item6)]\n)\n\n\n",
    "created" : 1505580568298.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2152830593",
    "id" : "82C849E7",
    "lastKnownWriteTime" : 1506637582,
    "last_content_update" : 1506637582769,
    "path" : "C:/Users/Shabdiz/PycharmProjects/MasterThesis/R-Project/initialize.R",
    "project_path" : "initialize.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}