{
    "collab_server" : "",
    "contents" : "source(\"initialize.R\")\n\n\n############################ GENERAL STATS ####################################\n\n\n\n############################ TOP ####################################\n\n### Distribution in Season 7\np <- ggplot(data=top.distribution,aes(x=names, y=gamesPlayed)) + \n  geom_bar(stat='identity') +\n  scale_x_discrete(limits=top.distribution[order(by=gamesPlayed,decreasing = T)]$names) +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1), axis.text.y = element_text(size=6))\np\n\n\ndf= top.distribution.patch[patch==patchOrder[16]]\nggplot(df, aes(x=name, gamesPlayed)) +\n  geom_bar(stat = \"identity\") +\n  scale_x_discrete(limits=df[order(by=gamesPlayed,decreasing = T)]$name)\n\np <- list()\nfor(i in 1:length(patchOrder)){\n  df= top.distribution.patch[patch==patchOrder[i]][order(by=gamesPlayed,decreasing = T)][1:20]\n  p[[i]] <- ggplot(df, aes(x=name, y=gamesPlayed)) +\n    geom_bar(stat = \"identity\") +\n    scale_x_discrete(limits=df[order(by=gamesPlayed,decreasing = T)]$name) +\n    scale_y_continuous(limits=c(0,2000)) +\n    theme(axis.text.x = element_text(angle = 90, hjust = 1), axis.text.y = element_text(size=6)) + \n    ggtitle(\"Patch\",paste0(patchOrder[i]))\n}\ndo.call(\"grid.arrange\", c(p, ncol= 5))\n\n\np <- ggplot(data=top.distribution.patch,aes(x=names, y=gamesPlayed)) + \n  geom_bar(stat='identity') +\n  scale_x_discrete(limits=top.distribution[order(by=gamesPlayed,decreasing = T)]$names) +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1), axis.text.y = element_text(size=6)) + \n  facet_wrap(.~patch, scales=\"free\")\np\n\np <- ggplot(data=merge(top[,c(\"championId\", \"patch\")], champLookUp, \"championId\") , aes(names)) + \n  geom_bar() +  facet_wrap(~ patch, scales=\"free\")\np\n\n####PER PATCH AND REGION\np <- ggplot(data = top.relevant) + \n  geom_bar(aes(x=as.vector(champ[as.character(top.relevant$championId)]), fill = championId)) + \n  facet_wrap( ~ platformId+factor(patch, levels = patchOrder), nrow=4) + \n  theme(axis.text.x = element_text(angle = 90, hjust = 1), axis.text.y = element_text(size=6)) + \n  coord_flip() + \n  guides(fill=F)\np+ ggtitle(\"Toplane Picks per Patch and Region\")\n\np <- ggplot(data=top.distribution,aes(x=names, y=gamesPlayed)) + \n  geom_bar(stat='identity') +\n  scale_x_discrete(limits=top.distribution[order(by=gamesPlayed,decreasing = T)]$names) +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1), axis.text.y = element_text(size=6))\np\n\n#PER CHAMP\np <- ggplot(data = top.relevant, aes(x = patch, group=platformId, color=platformId)) + \n  geom_line(stat = \"count\") + \n  scale_x_discrete(limits=patchOrder) +\n  facet_wrap(~ championId, ncol = 5) + \n  theme_igray() + scale_colour_tableau(\"colorblind10\")\np\n\np <- ggplot(data = top.relevant[, championId == 39], aes(x = patch, group=platformId, color=platformId)) + \n  geom_line(stat = \"count\") + \n  geom_line(y = mean(win) ) + \n  scale_x_discrete(limits=patchOrder) +\n  facet_wrap(~ championId, ncol = 5) + \n  theme_dark() + \n  theme(plot.background = element_rect(\"grey\"))\np\n\n\np <- ggplot(data = top.performance, aes(x = patch, y=winrate, group=platformId, color=platformId)) + \n  geom_line(linetype = 2) + \n  geom_line(data = top.performance , aes(y = games/2000)) + \n  scale_x_discrete(limits=patchOrder) +\n  facet_wrap(~ name, ncol = 5) + \n  theme_dark() + \n  theme(plot.background = element_rect(\"grey\"))\np + ggtitle(\"top Picks per Patch and Region\")\n\n\n########################### JUNGLE ##################################\n\n#overall distribution in season 7\np <- ggplot(data=jungle.distribution,aes(x=names, y=gamesPlayed)) + \n  geom_bar(stat='identity') +\n  scale_x_discrete(limits=jungle.distribution[order(by=gamesPlayed,decreasing = T)]$names) +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1), axis.text.y = element_text(size=6))\np\n\n#PER PATCH AND REGION\np <- ggplot(data = jungle.relevant) + \n  geom_bar(aes(x=as.vector(champ[as.character(jungle.relevant$championId)]), fill = championId)) + \n  facet_wrap( ~ platformId+factor(patch, levels = patchOrder), nrow=4) + \n  theme(axis.text.x = element_text(angle = 90, hjust = 1), axis.text.y = element_text(size=6)) + \n  coord_flip() + \n  guides(fill=F)\np+ ggtitle(\"Jungle Picks per Patch and Region\")\n\np <- ggplot(data = jungle.performance, aes(x = patch, y=winrate, group=platformId, color=platformId)) + \n  geom_line(linetype = 2) + \n  geom_line(data = jungle.performance , aes(y = games/2000)) + \n  scale_x_discrete(limits=patchOrder) +\n  facet_wrap(~ name, ncol = 5) + \n  theme_dark() + \n  theme(plot.background = element_rect(\"grey\"))\np + ggtitle(\"jungle Picks per Patch and Region\")\n\n\n########################### MID ##################################\n#overall distribution in season 7\np <- ggplot(data=mid.distribution,aes(x=names, y=gamesPlayed)) + \n  geom_bar(stat='identity') +\n  scale_x_discrete(limits=mid.distribution[order(by=gamesPlayed,decreasing = T)]$names) +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1), axis.text.y = element_text(size=6))\np\n\n#PER PATCH AND REGION\np <- ggplot(data = mid.relevant) + \n  geom_bar(aes(x=as.vector(champ[as.character(mid.relevant$championId)]), fill = championId)) + \n  facet_wrap( ~ platformId+factor(patch, levels = patchOrder), nrow=4) + \n  theme(axis.text.x = element_text(angle = 90, hjust = 1), axis.text.y = element_text(size=6)) + \n  coord_flip() + \n  guides(fill=F)\np+ ggtitle(\"Jungle Picks per Patch and Region\")\n\np <- ggplot(data = mid.performance, aes(x = patch, y=winrate, group=platformId, color=platformId)) + \n  geom_line(linetype = 2) + \n  geom_line(data = mid.performance , aes(y = games/2000)) + \n  scale_x_discrete(limits=patchOrder) +\n  facet_wrap(~ name, ncol = 5) + \n  theme_dark() + \n  theme(plot.background = element_rect(\"grey\"))\np + ggtitle(\"Mid Lane Picks per Patch and Region\")\n\n\n############################ ADC ####################################\n\n####DISTRIBUTIONS OF CHAMPIONS\n#overall distribution in season 7\np <- ggplot(data=adc.distribution,aes(x=names, y=gamesPlayed)) + \n  geom_bar(stat='identity') +\n  scale_x_discrete(limits=adc.distribution[order(by=gamesPlayed,decreasing = T)]$names) +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1), axis.text.y = element_text(size=6))\np\n\n#Barchart \np <- ggplot(data = adc.performance, aes(x=name, y=games/2000 *100, fill = name)) + \n  geom_bar(stat=\"Identity\") + \n  facet_wrap( ~ platformId+factor(patch, levels = patchOrder), nrow=4) + \n  theme(axis.text.x = element_text(angle = 90, hjust = 1), axis.text.y = element_text(size=6)) + \n  labs(x = \"Champion\", y = \"Playrate in Percentages\") +\n  coord_flip() + \n  guides(fill=F)\np+ ggtitle(\"ADC Picks per Patch and Region\")\n\n#Linechart\np <- ggplot(data = adc.performance[championId %in% relchamps.adc], aes(x = patch, y=games/2000 * 100, group=platformId, color=platformId)) + \n  geom_line(linetype = 1) + \n  #geom_line(data = adc.performance , aes(y = winrate), linetype = 2) + \n  scale_x_discrete(limits=patchOrder) +\n  theme(axis.text.x = element_text(size=5)) +\n  labs(x = \"Patch\", y = \"Playrate in Percentage\") +\n  facet_wrap(~ name, ncol = 4) \np + ggtitle(\"ADC Picks per Patch and Region\")\n\n\np <- list()\nfor(i in 1:length(patchOrder)){\n  df= adc.distribution.patch[patch==patchOrder[i]][order(by=gamesPlayed,decreasing = T)][1:20]\n  p[[i]] <- ggplot(df, aes(x=name, y=gamesPlayed)) +\n    geom_bar(stat = \"identity\") +\n    scale_x_discrete(limits=df[order(by=gamesPlayed,decreasing = T)]$name) +\n    scale_y_continuous(limits=c(0,5000)) +\n    theme(axis.text.x = element_text(angle = 90, hjust = 1), axis.text.y = element_text(size=6)) + \n    ggtitle(\"Patch\",paste0(patchOrder[i]))\n}\ndo.call(\"grid.arrange\", c(p, ncol= 5))\n\nadc.set1 <- c(\"Varus\", \"Jhin\", \"Ashe\")\nadc.set2 <- c(\"Lucian\", \"Ezreal\", \"Miss Fortune\")\nadc.set3 <- c(\"Caitlyn\", \"Tristana\", \"Kog'Maw\")\nadc.set <- adc.set1\n\ndf <- items.adc[championName %in% adc.set][, list(count=.N), by = c(\"championName\", \"patch\", \"itemName\")]\nsetkeyv(df, c(\"championName\", \"patch\"))\nchampionCount <- items.adc[championName %in% adc.set,list(championName, patch)][,list(gamesPlayed = .N), by = c(\"championName\", \"patch\")]\nsetkeyv(championCount, c(\"championName\", \"patch\"))\ndf <- merge(df, championCount, by= c(\"championName\",\"patch\"))\ndf$perc <- df$count/df$gamesPlayed\n\n\np <- ggplot(data = df) + \n  geom_bar(stat= \"identity\", aes(x=itemName, y=perc)) + \n  facet_grid(championName ~ factor(patch, levels = patchOrder)) + \n  theme(axis.text.x = element_text(angle = 90, hjust = 1, size = 6), axis.text.y = element_text(size=6)) + \n  scale_x_discrete(limits=relItems.ADC) +\n  coord_flip() +\n  guides(fill=FALSE)\np\n\n#nur ne Idee, aber da erkennt leider keiner etwas.\np <- ggplot(data = df[itemName %in% relItems.ADC],aes(x=factor(patch, levels = patchOrder), fill = factor(itemName))) + \n  geom_bar(width=0.9, position=\"fill\") + \n  facet_grid(. ~ championName) +\n  theme_igray() + scale_fill_manual(values = colorRampPalette(brewer.pal(8, \"Accent\"))(length(relItems.ADC)),\n                                    guide = guide_legend(nrow=2)) +\n  theme(legend.position=\"bottom\")\np + coord_polar(theta = \"y\")\n\n\n### attempt to illustrate specific traits of adcs\ndfprep = adc.performance.patch %>%\n  select(\n  name, patch,\n  winrate,\n  DmgDealt = totalDamageToChampions,\n  kills,\n  assists, \n  deaths,\n  DmgTaken = totalDamageTaken,\n  cs = csPerGame,\n  gold = goldEarned\n) \ndf = dfprep %>%\n       rownames_to_column( var = \"champ\" ) %>%\n       mutate_each(funs(rescale), -c(champ,name,patch)) %>%\n       melt(id.vars=c('champ','name','patch'), measure.vars=colnames(dfprep[,-c(\"name\",\"patch\")])) %>%\n       arrange(champ)\n\n#radar charts\ndf %>%\n  ggplot(aes(x=variable, y=value, group=name, color=name)) + \n  geom_polygon(fill=NA) + \n  coord_radar() + theme_bw() + facet_grid(name ~ factor(patch, levels=patchOrder)) + \n  #scale_x_discrete(labels = abbreviate) + \n  theme(axis.text.x = element_text(size = 5), legend.position=\"none\")\n\n#bar chart perspective\ndf %>%\n  ggplot(aes(x=variable, y=value, group= name, fill = name)) + \n  geom_bar(stat=\"identity\") + \n  geom_line(y = 0.5, linetype  =2, color = \"black\") +\n  facet_grid(name ~ factor(patch, levels=patchOrder)) +\n  coord_flip() +\n  theme_igray() + scale_fill_manual(values = colorRampPalette(brewer.pal(8, \"Accent\"))(length(unique(df$name)))) +\n  theme(axis.text.y = element_text(size = 5), legend.position=\"none\")\n\ndfprep %>%\n  mutate_each(funs(rescale), -c(name, patch)) %>% data.table() -> df_radar\n\np <- list()\nfor(j in 1:length(patchOrder))\n  p[[j]] <- ggRadar(df_radar[name %in% adc.set & patch == patchOrder[j]], aes(color=name), rescale = F, ylim=c(0,1))\ndo.call(\"grid.arrange\", c(p, nrow = 4 ))\n\n## attempt to scale into 3d and illustrate\nadc.performance.patch %>%\n  rownames_to_column(var=\"id\") -> adc.cmd \n\nadc.cmd.numerics = adc.cmd[,-c(\"name\", \"championId\", \"lane\", \"role\", \"patch\")]\nsetkey(adc.cmd.numerics, \"id\")\nrownames(adc.cmd.numerics) = adc.cmd.numerics$id\nadc.cmd.dist <- dist(adc.cmd.numerics[,-1])\ncolnames(adc.cmd.dist) = rownames\n\n## winrate by game duration \ndf = adc.performance.patch[,list(name, patch, winrate, winrateAt25, winrateAt30, winrateAt35, winrateAt40, winrateAt45, winrateOver45)]\ndf1 = df %>%\n  rownames_to_column(var = \"champ\") %>%\n  melt(id.vars=c('champ', 'name', 'patch'), measure.vars = colnames(df[,-c(\"name\", \"patch\")]))\n\ndf1$variableNew <- c(0,25,30,35,40,45,50)[match(df1$variable, c(\"winrate\", \"winrateAt25\", \"winrateAt30\", \"winrateAt35\", \"winrateAt40\",\"winrateAt45\", \"winrateOver45\"))]\nwinrate_scale = c(\"winrateAt25\", \"winrateAt30\", \"winrateAt35\", \"winrateAt40\",\"winrateAt45\", \"winrateOver45\")\np = ggplot(data = df1[variableNew!=0], aes(x = variableNew, y=value, color = name)) + \n  geom_point() + \n  geom_smooth(method=\"auto\") + \n  facet_grid(name ~ factor(patch, levels = patchOrder)) + \n  scale_y_continuous(limits=c(0,1)) + \n  scale_x_continuous(limits = c(20,55), breaks = seq(25,50,5), labels=c( \"25\", \"30\", \"35\" ,\"40\", \"45\", \">45\")) + \n  theme(legend.position=\"none\")\np\n\n############################ SUP ####################################\n#overall distribution in season 7\np <- ggplot(data=sup.distribution,aes(x=names, y=gamesPlayed)) + \n  geom_bar(stat='identity') +\n  scale_x_discrete(limits=sup.distribution[order(by=gamesPlayed,decreasing = T)]$names) +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1), axis.text.y = element_text(size=6))\np\n\np <- ggplot(data = sup.relevant) + \n  geom_bar(aes(x=as.vector(champ[as.character(sup.relevant$championId)]), fill = as.vector(champ[as.character(sup.relevant$championId)]))) + \n  facet_wrap( ~ platformId+factor(patch, levels = patchOrder), nrow=4) + \n  theme(axis.text.x = element_text(angle = 90, hjust = 1), axis.text.y = element_text(size=6)) +\n  coord_flip() + \n  guides(fill=F) \np+ ggtitle(\"Support Picks per Patch and Region\")\n\n",
    "created" : 1506018250578.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "37235075",
    "id" : "B026C2A0",
    "lastKnownWriteTime" : 1506696489,
    "last_content_update" : 1506700736330,
    "path" : "C:/Users/Shabdiz/PycharmProjects/MasterThesis/R-Project/viz.R",
    "project_path" : "viz.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}